{% extends 'shopapp/base.html' %}
{% block title %}
	Products
{% endblock %}

{% block body %}
	<div class="d-flex justify-content-between align-items-center mb-4">
        <h1>Products Catalog</h1>
        <div>
            <a href="{% url 'shopapp:index' %}" class="btn"> Back to shop index</a>
            <a href="{% url 'shopapp:product_create' %}" class="btn btn-success">
                Create new product
            </a>
        </div>
    </div>

    {% if products %}
        <div class="row">
            {% for product in products %}
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-header bg-light">
                        <div class="d-flex justify-content-between align-items-center">
                            <h5 class="mb-0 text-truncate" title="{{ product.name }}">
                                {{ product.name }}
                            </h5>
                            {% if product.discount %}
                            	<span class="badge bg-warning text-dark">
                                 {{ product.discount }}%
                                </span>
                            {% endif %}
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span>Price: ${{ product.price }}</span>
                            </div>
                        </div>
                        <p class="card-text text-muted small">
                            {{ product.description }}
                        </p>
                    </div>
                    <div class="card-footer bg-white">
                        <div class="d-flex justify-content-between align-items-center">
                            <a href="{% url 'shopapp:product_details' pk=product.pk %}"
                            class="btn btn-sm btn-outline-secondary">
                                View details
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
        </div>
    {% else %}
        <div class="text-center py-5">
            <div class="card border-0">
                <div class="card-body">
                    <h3>No product Found</h3>
                    <p>Create first product</p>
                    <a href="{% url 'shopapp:product_create' %}"
                       class="btn btn-primary btn-lg">
                        Create new product
                    </a>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}












{#{% extends 'shopapp/base.html' %}#}
{##}
{#{% block title %}#}
{#    Product List#}
{#{% endblock %}#}
{#{% block body %}#}
{#	<h1>Products:</h1>#}
{#    {% if products %}#}
{#        <div>#}
{#            {% for product in products %}#}
{#            <div>#}
{#                <p><a href="{% url 'shopapp:product_details' pk=product.pk %}">Name: {{ product.name }}</a></p>#}
{#                <p>Price: {{ product.price }}</p>#}
{#                <p>Discount: {% firstof product.discount 'no discount' %}</p>#}
{#            </div>#}
{#            {% endfor %}#}
{#         </div>#}
{#    {% else %}#}
{#        <h3>No Products yet</h3>#}
{#    {% endif %}#}
{#    <div>#}
{#        <a href="{% url 'shopapp:product_create' %}">Create a new product</a>#}
{#    </div>#}
{#{% endblock %}#}